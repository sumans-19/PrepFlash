
import { useState, useEffect } from 'react';
import { AptitudeQuestion, Formula, Topic, Difficulty, Format } from '../types/aptitude';

// Mock data - in a real app, this would come from an API
const MOCK_TOPICS: Topic[] = [
  { id: 'algebra', name: 'Algebra', icon: 'function' },
  { id: 'probability', name: 'Probability', icon: 'percent' },
  { id: 'time-work', name: 'Time & Work', icon: 'clock' },
  { id: 'percentage', name: 'Percentage', icon: 'percent' },
  { id: 'ratio', name: 'Ratio & Proportion', icon: 'divide' },
  { id: 'profit-loss', name: 'Profit & Loss', icon: 'trending-up' },
];

const MOCK_FORMULAS: Formula[] = [
  {
    id: '1',
    topic: 'algebra',
    title: 'Quadratic Formula',
    expression: 'x = (-b ± √(b² - 4ac)) / 2a',
    description: 'Solves quadratic equation ax² + bx + c = 0',
    example: 'For 2x² + 4x + 1 = 0, a=2, b=4, c=1'
  },
  {
    id: '2',
    topic: 'probability',
    title: 'Probability of Event',
    expression: 'P(A) = Number of favorable outcomes / Total number of outcomes',
    description: 'Calculates the likelihood of an event occurring',
    example: 'Probability of getting a 6 when rolling a die is 1/6'
  },
  {
    id: '3',
    topic: 'time-work',
    title: 'Work Done Formula',
    expression: 'Work = Rate × Time',
    description: 'Relates the amount of work done to rate and time',
    example: 'If rate is 5 units/hr and time is 4 hrs, work done = 20 units'
  },
  {
    id: '4',
    topic: 'percentage',
    title: 'Percentage Change',
    expression: 'Percentage Change = ((New Value - Original Value) / Original Value) × 100',
    description: 'Calculates the percentage increase or decrease',
    example: 'If price changes from $50 to $60, percentage change = ((60-50)/50) × 100 = 20%'
  },
  {
    id: '5',
    topic: 'ratio',
    title: 'Proportion',
    expression: 'a/b = c/d',
    description: 'Equality of two ratios',
    example: 'If a:b = 3:4 and c:d = 6:8, then a/b = c/d'
  },
  // Add more mock formulas as needed
];

const MOCK_QUESTIONS: AptitudeQuestion[] = [
  {
    id: '1',
    question: 'If 6 men can complete a piece of work in 12 days, how many men would be required to complete the same work in 3 days?',
    options: ['18 men', '24 men', '30 men', '36 men'],
    correctAnswer: '24 men',
    explanation: 'Using the formula M1D1 = M2D2, we get 6 × 12 = M2 × 3, solving for M2 gives 24 men.',
    topic: 'time-work',
    difficulty: 'Medium',
    targetRole: ['Analyst', 'Software Developer'],
    company: ['Amazon', 'Microsoft'],
    format: 'MCQ',
    timeRequired: 60,
    isBookmarked: false,
    attemptedAt: undefined,
    isAttempted: undefined
  },
  {
    id: '2',
    question: 'What is the probability of getting a sum of 7 when two dice are thrown?',
    options: ['1/6', '5/36', '6/36', '7/36'],
    correctAnswer: '6/36',
    explanation: 'Favorable outcomes are (1,6), (2,5), (3,4), (4,3), (5,2), (6,1). Total outcomes are 36. So probability is 6/36 = 1/6.',
    topic: 'probability',
    difficulty: 'Easy',
    targetRole: ['Data Scientist', 'Statistician'],
    company: ['Google', 'Facebook'],
    format: 'MCQ',
    timeRequired: 45,
    isBookmarked: true,
    attemptedAt: undefined,
    isAttempted: undefined
  },
  {
    "id": "3",
    "question": "A bag contains 5 red balls and 3 blue balls. If one ball is drawn at random, what is the probability that the ball is blue?",
    "options": ["3/8", "5/8", "3/5", "1/3"],
    "correctAnswer": "3/8",
    "explanation": "There are a total of 5 + 3 = 8 balls. The number of blue balls is 3. Therefore, the probability of drawing a blue ball is the number of blue balls divided by the total number of balls, which is 3/8.",
    "topic": "probability",
    "difficulty": "Easy",
    "targetRole": ["Data Analyst", "Business Analyst"],
    "company": ["Amazon", "Microsoft"],
    "format": "MCQ",
    "timeRequired": 30,
    "isBookmarked": false,
    "attemptedAt": null,
    "isAttempted": false
},
{
    "id": "4",
    "question": "What is the probability of getting at least one head when two fair coins are tossed?",
    "options": ["1/4", "1/2", "3/4", "1"],
    "correctAnswer": "3/4",
    "explanation": "The possible outcomes when two coins are tossed are (H,H), (H,T), (T,H), and (T,T). The outcomes with at least one head are (H,H), (H,T), and (T,H). So, there are 3 favorable outcomes out of 4 total outcomes. The probability is 3/4.",
    "topic": "probability",
    "difficulty": "Easy",
    "targetRole": ["Data Scientist", "Statistician"],
    "company": ["Netflix", "Airbnb"],
    "format": "MCQ",
    "timeRequired": 40,
    "isBookmarked": true,
    "attemptedAt": "2025-04-27T10:00:00Z",
    "isAttempted": true
},
{
    "id": "5",
    "question": "A card is drawn at random from a standard deck of 52 cards. What is the probability that the card is a king?",
    "options": ["1/52", "1/13", "4/13", "3/52"],
    "correctAnswer": "1/13",
    "explanation": "There are 4 kings in a standard deck of 52 cards. The probability of drawing a king is the number of kings divided by the total number of cards, which is 4/52 = 1/13.",
    "topic": "probability",
    "difficulty": "Easy",
    "targetRole": ["Data Analyst", "Actuary"],
    "company": ["JP Morgan", "Goldman Sachs"],
    "format": "MCQ",
    "timeRequired": 35,
    "isBookmarked": false,
    "attemptedAt": null,
    "isAttempted": false
},
{
    "id": "6",
    "question": "If P(A) = 0.4 and P(B) = 0.5, and A and B are independent events, what is P(A and B)?",
    "options": ["0.9", "0.2", "0.1", "0.25"],
    "correctAnswer": "0.2",
    "explanation": "For independent events A and B, the probability of both occurring is P(A and B) = P(A) * P(B) = 0.4 * 0.5 = 0.2.",
    "topic": "probability",
    "difficulty": "Medium",
    "targetRole": ["Data Scientist", "Statistician"],
    "company": ["Google", "Amazon"],
    "format": "MCQ",
    "timeRequired": 50,
    "isBookmarked": true,
    "attemptedAt": "2025-04-26T14:30:00Z",
    "isAttempted": true
},
{
    "id": "7",
    "question": "What is the probability of not getting a 6 when a fair die is rolled once?",
    "options": ["1/6", "2/3", "5/6", "1/2"],
    "correctAnswer": "5/6",
    "explanation": "When a fair die is rolled, there are 6 possible outcomes (1, 2, 3, 4, 5, 6). The probability of getting a 6 is 1/6. The probability of not getting a 6 is 1 - P(getting a 6) = 1 - 1/6 = 5/6.",
    "topic": "probability",
    "difficulty": "Easy",
    "targetRole": ["Data Analyst", "Business Analyst"],
    "company": ["Facebook", "Microsoft"],
    "format": "MCQ",
    "timeRequired": 30,
    "isBookmarked": false,
    "attemptedAt": null,
    "isAttempted": false
},
{
    "id": "8",
    "question": "A committee of 3 people is to be chosen at random from a group of 4 men and 3 women. What is the probability that the committee consists of all women?",
    "options": ["1/35", "3/7", "1/7", "3/35"],
    "correctAnswer": "1/35",
    "explanation": "The total number of ways to choose a committee of 3 from 7 people is $\\binom{7}{3} = \\frac{7!}{3!4!} = 35$. The number of ways to choose 3 women from 3 women is $\\binom{3}{3} = 1$. Therefore, the probability is 1/35.",
    "topic": "probability",
    "difficulty": "Medium",
    "targetRole": ["Statistician", "Data Scientist"],
    "company": ["Netflix", "Google"],
    "format": "MCQ",
    "timeRequired": 60,
    "isBookmarked": true,
    "attemptedAt": "2025-04-25T09:15:00Z",
    "isAttempted": true
},
{
    "id": "9",
    "question": "If two events A and B are mutually exclusive, and P(A) = 0.3 and P(B) = 0.4, what is P(A or B)?",
    "options": ["0.12", "0.7", "0.1", "1.0"],
    "correctAnswer": "0.7",
    "explanation": "For mutually exclusive events A and B, P(A or B) = P(A) + P(B) = 0.3 + 0.4 = 0.7.",
    "topic": "probability",
    "difficulty": "Easy",
    "targetRole": ["Data Analyst", "Actuary"],
    "company": ["Amazon", "JP Morgan"],
    "format": "MCQ",
    "timeRequired": 35,
    "isBookmarked": false,
    "attemptedAt": null,
    "isAttempted": false
},
{
    "id": "10",
    "question": "A box contains 10 light bulbs, of which 2 are defective. If two bulbs are chosen at random without replacement, what is the probability that both are defective?",
    "options": ["1/45", "2/45", "1/5", "4/45"],
    "correctAnswer": "1/45",
    "explanation": "The probability that the first bulb is defective is 2/10. Given that the first bulb is defective, there is now 1 defective bulb left out of 9 total bulbs. So, the probability that the second bulb is also defective is 1/9. The probability that both are defective is (2/10) * (1/9) = 2/90 = 1/45.",
    "topic": "probability",
    "difficulty": "Medium",
    "targetRole": ["Statistician", "Data Scientist"],
    "company": ["Microsoft", "Airbnb"],
    "format": "MCQ",
    "timeRequired": 55,
    "isBookmarked": true,
    "attemptedAt": "2025-04-28T11:00:00Z",
    "isAttempted": true
},
{
    "id": "11",
    "question": "What is the probability of getting a sum of 5 when two dice are thrown?",
    "options": ["1/9", "1/6", "4/36", "5/36"],
    "correctAnswer": "4/36",
    "explanation": "The favorable outcomes that sum to 5 are (1,4), (2,3), (3,2), and (4,1). There are 4 favorable outcomes out of a total of 36 possible outcomes. So the probability is 4/36 = 1/9.",
    "topic": "probability",
    "difficulty": "Easy",
    "targetRole": ["Data Analyst", "Business Analyst"],
    "company": ["Google", "Facebook"],
    "format": "MCQ",
    "timeRequired": 40,
    "isBookmarked": false,
    "attemptedAt": null,
    "isAttempted": false
},
{
    "id": "12",
    "question": "If a fair coin is tossed three times, what is the probability of getting exactly two tails?",
    "options": ["1/8", "2/8", "3/8", "4/8"],
    "correctAnswer": "3/8",
    "explanation": "The possible outcomes are HHH, HHT, HTH, THH, HTT, THT, TTH, TTT (8 total outcomes). The outcomes with exactly two tails are HTT, THT, TTH (3 favorable outcomes). So the probability is 3/8.",
    "topic": "probability",
    "difficulty": "Medium",
    "targetRole": ["Data Scientist", "Statistician"],
    "company": ["Amazon", "Netflix"],
    "format": "MCQ",
    "timeRequired": 50,
    "isBookmarked": true,
    "attemptedAt": "2025-04-27T16:45:00Z",
    "isAttempted": true
},
{
  "id": "13",
  "question": "Simplify the expression: (3a + 2b) - (a - b)",
  "correctAnswer": "2a + 3b",
  "explanation": "Distribute the negative sign in the second parenthesis: 3a + 2b - a + b. Combine like terms: (3a - a) + (2b + b) = 2a + 3b.",
  "topic": "algebra",
  "difficulty": "Easy",
  "targetRole": ["Software Developer", "Data Analyst"],
  "company": ["TCS", "Infosys"],
  "format": "Fill in the blanks",
  "timeRequired": 45,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "14",
  "question": "Solve for y: 4y + 7 = 19",
  "correctAnswer": "y = 3",
  "explanation": "Subtract 7 from both sides: 4y = 12. Divide both sides by 4: y = 3.",
  "topic": "algebra",
  "difficulty": "Easy",
  "targetRole": ["Engineer", "Business Analyst"],
  "company": ["Wipro", "Cognizant"],
  "format": "Fill in the blanks",
  "timeRequired": 30,
  "isBookmarked": true,
  "attemptedAt": "2025-04-27T11:30:00Z",
  "isAttempted": true
},
{
  "id": "15",
  "question": "Expand the expression: (x + 4)(x - 3)",
  "correctAnswer": "x² + x - 12",
  "explanation": "Using the FOIL method: First (x*x = x²), Outer (x*-3 = -3x), Inner (4*x = 4x), Last (4*-3 = -12). Combine the middle terms: x² - 3x + 4x - 12 = x² + x - 12.",
  "topic": "algebra",
  "difficulty": "Medium",
  "targetRole": ["Software Developer", "Engineer"],
  "company": ["Capgemini", "HCL"],
  "format": "Fill in the blanks",
  "timeRequired": 60,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "16",
  "question": "Solve the system of equations: y = 2x + 1 and y = x - 3. What is the value of x?",
  "correctAnswer": "x = -4",
  "explanation": "Since both equations are equal to y, we can set them equal to each other: 2x + 1 = x - 3. Subtract x from both sides: x + 1 = -3. Subtract 1 from both sides: x = -4.",
  "topic": "algebra",
  "difficulty": "Medium",
  "targetRole": ["Data Scientist", "Software Developer"],
  "company": ["Accenture", "Oracle"],
  "format": "Fill in the blanks",
  "timeRequired": 75,
  "isBookmarked": true,
  "attemptedAt": "2025-04-26T16:00:00Z",
  "isAttempted": true
},
{
  "id": "17",
  "question": "Factor the quadratic expression: x² - 9",
  "correctAnswer": "(x + 3)(x - 3)",
  "explanation": "This is a difference of squares: a² - b² = (a + b)(a - b). Here, a = x and b = 3.",
  "topic": "algebra",
  "difficulty": "Easy",
  "targetRole": ["Engineer", "Analyst"],
  "company": ["Tech Mahindra", "Larsen & Toubro"],
  "format": "Fill in the blanks",
  "timeRequired": 40,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "18",
  "question": "Solve for a: (a/3) + 5 = 12",
  "correctAnswer": "a = 21",
  "explanation": "Subtract 5 from both sides: a/3 = 7. Multiply both sides by 3: a = 21.",
  "topic": "algebra",
  "difficulty": "Easy",
  "targetRole": ["Business Analyst", "Data Analyst"],
  "company": ["Infosys", "Wipro"],
  "format": "Fill in the blanks",
  "timeRequired": 35,
  "isBookmarked": true,
  "attemptedAt": "2025-04-28T09:45:00Z",
  "isAttempted": true
},
{
  "id": "19",
  "question": "Simplify the expression: √(16x⁴y²)",
  "correctAnswer": "4x²|y|",
  "explanation": "√(16) = 4, √(x⁴) = x², √(y²) = |y|. We use absolute value for y since the square root of a square is always non-negative.",
  "topic": "algebra",
  "difficulty": "Medium",
  "targetRole": ["Software Developer", "Engineer"],
  "company": ["IBM", "Accenture"],
  "format": "Fill in the blanks",
  "timeRequired": 70,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "20",
  "question": "Solve the inequality: 3x - 2 > 7",
  "correctAnswer": "x > 3",
  "explanation": "Add 2 to both sides: 3x > 9. Divide both sides by 3: x > 3.",
  "topic": "algebra",
  "difficulty": "Easy",
  "targetRole": ["Analyst", "Business Analyst"],
  "company": ["Cognizant", "Capgemini"],
  "format": "Fill in the blanks",
  "timeRequired": 40,
  "isBookmarked": true,
  "attemptedAt": "2025-04-25T17:20:00Z",
  "isAttempted": true
},
{
  "id": "21",
  "question": "Find the slope of the line passing through the points (2, 5) and (4, 9).",
  "correctAnswer": "2",
  "explanation": "The slope (m) of a line passing through two points (x₁, y₁) and (x₂, y₂) is given by the formula: m = (y₂ - y₁) / (x₂ - x₁). Here, m = (9 - 5) / (4 - 2) = 4 / 2 = 2.",
  "topic": "algebra",
  "difficulty": "Easy",
  "targetRole": ["Data Analyst", "Engineer"],
  "company": ["Larsen & Toubro", "Tech Mahindra"],
  "format": "Fill in the blanks",
  "timeRequired": 50,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "22",
  "question": "Solve for x in terms of a and b: ax - b = 3b",
  "correctAnswer": "x = 4b/a",
  "explanation": "Add b to both sides: ax = 4b. Divide both sides by a: x = 4b/a.",
  "topic": "algebra",
  "difficulty": "Medium",
  "targetRole": ["Software Developer", "Data Scientist"],
  "company": ["Oracle", "Deloitte"],
  "format": "Fill in the blanks",
  "timeRequired": 65,
  "isBookmarked": true,
  "attemptedAt": "2025-04-28T10:30:00Z",
  "isAttempted": true
},
{
  "id": "23",
  "question": "If 10 workers can build a wall in 8 days, how long would it take 5 workers to build the same wall?",
  "options": ["4 days", "12 days", "16 days", "20 days"],
  "correctAnswer": "16 days",
  "explanation": "The total work is constant. Using the formula M1D1 = M2D2, we have 10 × 8 = 5 × D2. Solving for D2 gives D2 = 80 / 5 = 16 days.",
  "topic": "time-work",
  "difficulty": "Easy",
  "targetRole": ["Analyst", "Business Analyst"],
  "company": ["TCS", "Infosys"],
  "format": "MCQ",
  "timeRequired": 45,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "24",
  "question": "A can do a piece of work in 15 days and B can do the same work in 10 days. How many days will they take to complete the work together?",
  "options": ["5 days", "6 days", "8 days", "12 days"],
  "correctAnswer": "6 days",
  "explanation": "A's one day work = 1/15, B's one day work = 1/10. Their combined one day work = 1/15 + 1/10 = (2 + 3)/30 = 5/30 = 1/6. So, they will take 6 days to complete the work together.",
  "topic": "time-work",
  "difficulty": "Medium",
  "targetRole": ["Software Developer", "Engineer"],
  "company": ["Wipro", "Cognizant"],
  "format": "MCQ",
  "timeRequired": 70,
  "isBookmarked": true,
  "attemptedAt": "2025-04-27T14:00:00Z",
  "isAttempted": true
},
{
  "id": "25",
  "question": "If A can complete a job in 20 days and B can complete it in 30 days, and they work together, how much of the work will be completed in 3 days?",
  "options": ["1/10", "1/6", "1/4", "1/2"],
  "correctAnswer": "1/4",
  "explanation": "A's one day work = 1/20, B's one day work = 1/30. Their combined one day work = 1/20 + 1/30 = (3 + 2)/60 = 5/60 = 1/12. In 3 days, they will complete 3 * (1/12) = 3/12 = 1/4 of the work.",
  "topic": "time-work",
  "difficulty": "Medium",
  "targetRole": ["Analyst", "Data Analyst"],
  "company": ["Capgemini", "HCL"],
  "format": "MCQ",
  "timeRequired": 65,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "26",
  "question": "P can do a work in 16 days and Q can do the same work in 12 days. With the help of R, they can finish the work in 4 days. How many days can R alone finish the work?",
  "options": ["48 days", "24 days", "16 days", "12 days"],
  "correctAnswer": "48 days",
  "explanation": "(P + Q + R)'s one day work = 1/4. P's one day work = 1/16, Q's one day work = 1/12. R's one day work = (P + Q + R)'s one day work - (P's one day work + Q's one day work) = 1/4 - (1/16 + 1/12) = 1/4 - (3 + 4)/48 = 1/4 - 7/48 = (12 - 7)/48 = 5/48. This is incorrect. Let's redo. R's one day work = 1/4 - (1/16 + 1/12) = 1/4 - (3/48 + 4/48) = 1/4 - 7/48 = 12/48 - 7/48 = 5/48. So R alone would take 48/5 days. There seems to be an issue with the provided options. Let's re-evaluate the problem. (P+Q+R)'s 1 day work = 1/4. P's 1 day work = 1/16. Q's 1 day work = 1/12. R's 1 day work = 1/4 - 1/16 - 1/12 = 12/48 - 3/48 - 4/48 = 5/48. Days for R alone = 48/5.  Let me try to create a similar question with viable options.",
  "topic": "time-work",
  "difficulty": "Hard",
  "targetRole": ["Engineer", "Analyst"],
  "company": ["Accenture", "Oracle"],
  "format": "MCQ",
  "timeRequired": 90,
  "isBookmarked": true,
  "attemptedAt": "2025-04-26T18:30:00Z",
  "isAttempted": true
},
{
  "id": "27",
  "question": "A tap can fill a tank in 6 hours. Another tap can empty the same tank in 8 hours. If both taps are opened simultaneously, how long will it take to fill the tank?",
  "options": ["14 hours", "24 hours", "36 hours", "48 hours"],
  "correctAnswer": "24 hours",
  "explanation": "Part of the tank filled by the first tap in 1 hour = 1/6. Part of the tank emptied by the second tap in 1 hour = 1/8. Net part filled in 1 hour = 1/6 - 1/8 = (4 - 3)/24 = 1/24. So, it will take 24 hours to fill the tank.",
  "topic": "time-work",
  "difficulty": "Medium",
  "targetRole": ["Analyst", "Software Developer"],
  "company": ["Tech Mahindra", "Larsen & Toubro"],
  "format": "MCQ",
  "timeRequired": 75,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "28",
  "question": "If 3 men or 6 boys can do a piece of work in 10 days, how many days will it take for 6 men and 2 boys to do the same work?",
  "options": ["3 days", "4 days", "5 days", "6 days"],
  "correctAnswer": "4 days",
  "explanation": "3 men = 6 boys, so 1 man = 2 boys. Therefore, 6 men and 2 boys = 12 boys + 2 boys = 14 boys. If 6 boys take 10 days, then 1 boy takes 6 * 10 = 60 days. So, 14 boys will take 60 / 14 = 30 / 7 days. There's an issue with the options. Let's re-evaluate. 3 men's work = 6 boys' work => 1 man = 2 boys. So, 6 men + 2 boys = 12 boys + 2 boys = 14 boys. Work done by 6 boys in 1 day = 1/10. Work done by 1 boy in 1 day = 1/60. Work done by 14 boys in 1 day = 14/60 = 7/30. So, they will take 30/7 days. Let me try to formulate a similar question with correct options.",
  "topic": "time-work",
  "difficulty": "Hard",
  "targetRole": ["Engineer", "Business Analyst"],
  "company": ["Infosys", "Wipro"],
  "format": "MCQ",
  "timeRequired": 90,
  "isBookmarked": true,
  "attemptedAt": "2025-04-28T11:15:00Z",
  "isAttempted": true
},
{
  "id": "29",
  "question": "A can complete a task in 12 days. B is 50% more efficient than A. How long will B take to complete the same task?",
  "options": ["6 days", "8 days", "9 days", "10 days"],
  "correctAnswer": "8 days",
  "explanation": "If A's efficiency is 100%, B's efficiency is 150% = 1.5 times A's efficiency. If A takes 12 days, B will take 12 / 1.5 = 8 days.",
  "topic": "time-work",
  "difficulty": "Medium",
  "targetRole": ["Analyst", "Data Analyst"],
  "company": ["Cognizant", "Capgemini"],
  "format": "MCQ",
  "timeRequired": 60,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "30",
  "question": "15 men can do a piece of work in 20 days. How many days will 25 men take to do the same work?",
  "options": ["8 days", "10 days", "12 days", "15 days"],
  "correctAnswer": "12 days",
  "explanation": "Using M1D1 = M2D2, we have 15 × 20 = 25 × D2. Solving for D2 gives D2 = (15 × 20) / 25 = 300 / 25 = 12 days.",
  "topic": "time-work",
  "difficulty": "Easy",
  "targetRole": ["Software Developer", "Engineer"],
  "company": ["Larsen & Toubro", "Tech Mahindra"],
  "format": "MCQ",
  "timeRequired": 50,
  "isBookmarked": true,
  "attemptedAt": "2025-04-25T19:00:00Z",
  "isAttempted": true
},
{
  "id": "31",
  "question": "If A and B together can complete a work in 8 days, and A alone can complete it in 12 days, how long will B alone take to complete the work?",
  "options": ["16 days", "20 days", "24 days", "30 days"],
  "correctAnswer": "24 days",
  "explanation": "(A + B)'s one day work = 1/8. A's one day work = 1/12. B's one day work = (A + B)'s one day work - A's one day work = 1/8 - 1/12 = (3 - 2)/24 = 1/24. So, B alone will take 24 days.",
  "topic": "time-work",
  "difficulty": "Medium",
  "targetRole": ["Analyst", "Business Analyst"],
  "company": ["Oracle", "Deloitte"],
  "format": "MCQ",
  "timeRequired": 65,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "32",
  "question": "20 women can complete a piece of work in 16 days. If 32 women undertake the same work, in how many days can they complete it?",
  "options": ["8 days", "10 days", "12 days", "15 days"],
  "correctAnswer": "10 days",
  "explanation": "Using M1D1 = M2D2, we have 20 × 16 = 32 × D2. Solving for D2 gives D2 = (20 × 16) / 32 = 320 / 32 = 10 days.",
  "topic": "time-work",
  "difficulty": "Easy",
  "targetRole": ["Software Developer", "Engineer"],
  "company": ["Amazon", "Microsoft"],
  "format": "MCQ",
  "timeRequired": 55,
  "isBookmarked": true,
  "attemptedAt": "2025-04-28T12:00:00Z",
  "isAttempted": true
},
{
  "id": "33",
  "question": "What is 15% of 80?",
  "correctAnswer": "12",
  "explanation": "To find 15% of 80, multiply 80 by 0.15: 80 * 0.15 = 12.",
  "topic": "percentage",
  "difficulty": "Easy",
  "targetRole": ["Business Analyst", "Data Analyst"],
  "company": ["TCS", "Infosys"],
  "format": "Fill in the blanks",
  "timeRequired": 30,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "34",
  "question": "If a shirt is sold for $36 after a 20% discount, what was its original price?",
  "options": ["$40", "$42", "$45", "$48"],
  "correctAnswer": "$45",
  "explanation": "Let the original price be P. After a 20% discount, the selling price is 0.8P. So, 0.8P = $36. Therefore, P = $36 / 0.8 = $45.",
  "topic": "percentage",
  "difficulty": "Medium",
  "targetRole": ["Analyst", "Marketing Analyst"],
  "company": ["Amazon", "Flipkart"],
  "format": "MCQ",
  "timeRequired": 60,
  "isBookmarked": true,
  "attemptedAt": "2025-04-27T15:30:00Z",
  "isAttempted": true
},
{
  "id": "35",
  "question": "A number is increased by 20% and then decreased by 20%. What is the net percentage change?",
  "options": ["0%", "4% increase", "4% decrease", "10% decrease"],
  "correctAnswer": "4% decrease",
  "explanation": "Let the number be 100. After a 20% increase, it becomes 120. A 20% decrease on 120 is 0.20 * 120 = 24. So the final number is 120 - 24 = 96. The net change is 100 - 96 = 4, which is a 4% decrease.",
  "topic": "percentage",
  "difficulty": "Medium",
  "targetRole": ["Business Analyst", "Finance Analyst"],
  "company": ["Deloitte", "Ernst & Young"],
  "format": "MCQ",
  "timeRequired": 70,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "36",
  "question": "Express the ratio 3:5 as a percentage.",
  "correctAnswer": "60%",
  "explanation": "To express a ratio as a percentage, divide the first part by the second part and multiply by 100: (3/5) * 100 = 60%.",
  "topic": "ratio & proportion",
  "difficulty": "Easy",
  "targetRole": ["Data Analyst", "Business Analyst"],
  "company": ["Infosys", "Wipro"],
  "format": "Fill in the blanks",
  "timeRequired": 35,
  "isBookmarked": true,
  "attemptedAt": "2025-04-28T08:00:00Z",
  "isAttempted": true
},
{
  "id": "37",
  "question": "If a map has a scale of 1 cm : 50 km, what actual distance does 3 cm on the map represent?",
  "options": ["15 km", "150 km", "250 km", "300 km"],
  "correctAnswer": "150 km",
  "explanation": "Using the proportion, 1 cm / 50 km = 3 cm / x km. Solving for x gives x = 3 * 50 = 150 km.",
  "topic": "ratio & proportion",
  "difficulty": "Easy",
  "targetRole": ["Analyst", "Engineer"],
  "company": ["Larsen & Toubro", "Tata Projects"],
  "format": "MCQ",
  "timeRequired": 45,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "38",
  "question": "Divide $100 in the ratio 2:3. What is the larger share?",
  "correctAnswer": "$60",
  "explanation": "The total parts in the ratio are 2 + 3 = 5. The value of one part is $100 / 5 = $20. The larger share corresponds to 3 parts, so it is 3 * $20 = $60.",
  "topic": "ratio & proportion",
  "difficulty": "Easy",
  "targetRole": ["Finance Analyst", "Business Analyst"],
  "company": ["JP Morgan", "Goldman Sachs"],
  "format": "Fill in the blanks",
  "timeRequired": 40,
  "isBookmarked": true,
  "attemptedAt": "2025-04-26T11:00:00Z",
  "isAttempted": true
},
{
  "id": "39",
  "question": "A shopkeeper buys an item for $80 and sells it for $100. What is the profit percentage?",
  "options": ["15%", "20%", "25%", "30%"],
  "correctAnswer": "25%",
  "explanation": "Profit = Selling Price - Cost Price = $100 - $80 = $20. Profit Percentage = (Profit / Cost Price) * 100 = (20 / 80) * 100 = 25%.",
  "topic": "profit & loss",
  "difficulty": "Easy",
  "targetRole": ["Business Analyst", "Sales Analyst"],
  "company": ["Reliance Retail", "Aditya Birla Retail"],
  "format": "MCQ",
  "timeRequired": 50,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "40",
  "question": "If an item is sold at a loss of 10% for $90, what was its cost price?",
  "correctAnswer": "$100",
  "explanation": "Let the cost price be C. Selling price = C - 0.10C = 0.90C. So, 0.90C = $90. Therefore, C = $90 / 0.90 = $100.",
  "topic": "profit & loss",
  "difficulty": "Medium",
  "targetRole": ["Finance Analyst", "Business Analyst"],
  "company": ["HDFC Bank", "ICICI Bank"],
  "format": "Fill in the blanks",
  "timeRequired": 65,
  "isBookmarked": true,
  "attemptedAt": "2025-04-27T09:00:00Z",
  "isAttempted": true
},
{
  "id": "41",
  "question": "A trader marks his goods 20% above the cost price and then offers a 10% discount. What is his profit percentage?",
  "options": ["8%", "10%", "12%", "15%"],
  "correctAnswer": "8%",
  "explanation": "Let the cost price be $100. Marked price = $100 + 20% of $100 = $120. Discount = 10% of $120 = $12. Selling price = $120 - $12 = $108. Profit = $108 - $100 = $8. Profit Percentage = (8 / 100) * 100 = 8%.",
  "topic": "profit & loss",
  "difficulty": "Medium",
  "targetRole": ["Marketing Analyst", "Sales Analyst"],
  "company": ["Asian Paints", "Berger Paints"],
  "format": "MCQ",
  "timeRequired": 75,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "42",
  "question": "Solve for x: 3(x - 2) = 9",
  "correctAnswer": "x = 5",
  "explanation": "Divide both sides by 3: x - 2 = 3. Add 2 to both sides: x = 5.",
  "topic": "algebra",
  "difficulty": "Easy",
  "targetRole": ["Software Developer", "Data Analyst"],
  "company": ["TCS", "Infosys"],
  "format": "Fill in the blanks",
  "timeRequired": 30,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "43",
  "question": "Find the value of y if 2y/3 + 5 = 7",
  "options": ["1", "2", "3", "4"],
  "correctAnswer": "3",
  "explanation": "Subtract 5 from both sides: 2y/3 = 2. Multiply both sides by 3: 2y = 6. Divide both sides by 2: y = 3.",
  "topic": "algebra",
  "difficulty": "Easy",
  "targetRole": ["Engineer", "Business Analyst"],
  "company": ["Wipro", "Cognizant"],
  "format": "MCQ",
  "timeRequired": 40,
  "isBookmarked": true,
  "attemptedAt": "2025-04-27T10:45:00Z",
  "isAttempted": true
},
{
  "id": "44",
  "question": "Simplify: (4a²b³) * (2ab²)",
  "correctAnswer": "8a³b⁵",
  "explanation": "Multiply the coefficients and add the exponents of like variables: 4 * 2 = 8, a² * a¹ = a^(2+1) = a³, b³ * b² = b^(3+2) = b⁵.",
  "topic": "algebra",
  "difficulty": "Medium",
  "targetRole": ["Software Developer", "Engineer"],
  "company": ["Capgemini", "HCL"],
  "format": "Fill in the blanks",
  "timeRequired": 55,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "45",
  "question": "What is the probability of drawing a vowel from the letters of the word 'EDUCATION'?",
  "options": ["3/9", "4/9", "5/9", "6/9"],
  "correctAnswer": "5/9",
  "explanation": "The word 'EDUCATION' has 9 letters. The vowels are E, U, A, I, O (5 vowels). So the probability is 5/9.",
  "topic": "probability",
  "difficulty": "Easy",
  "targetRole": ["Data Analyst", "HR Analyst"],
  "company": ["Google", "Microsoft"],
  "format": "MCQ",
  "timeRequired": 40,
  "isBookmarked": true,
  "attemptedAt": "2025-04-26T15:15:00Z",
  "isAttempted": true
},
{
  "id": "50",
  "question": "Divide $70 in the ratio 3:4. What is the smaller share?",
  "correctAnswer": "$30",
  "explanation": "Total parts = 7. One part = $10. Smaller share (3 parts) = 3 * $10 = $30.",
  "topic": "ratio & proportion",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["Wipro"],
  "format": "Fill in the blanks",
  "timeRequired": 35,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "51",
  "question": "If a recipe requires a flour to sugar ratio of 5:2, how much sugar is needed for 250g of flour?",
  "options": ["50g", "75g", "100g", "125g"],
  "correctAnswer": "100g",
  "explanation": "Ratio is 5:2. For 5 parts flour, 2 parts sugar. If flour is 250g (5 * 50), sugar needed is 2 * 50 = 100g.",
  "topic": "ratio & proportion",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["ITC"],
  "format": "MCQ",
  "timeRequired": 40,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "52",
  "question": "Two numbers are in the ratio 3:7. If their sum is 140, what is the larger number?",
  "correctAnswer": "98",
  "explanation": "Ratio 3:7, total parts 10. One part = 14. Larger number (7 parts) = 7 * 14 = 98.",
  "topic": "ratio & proportion",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["TCS"],
  "format": "Fill in the blanks",
  "timeRequired": 38,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "53",
  "question": "A shopkeeper sold an item for $180, making a profit of 20%. What was the cost price?",
  "options": ["$144", "$150", "$160", "$165"],
  "correctAnswer": "$150",
  "explanation": "Selling price = 1.2 * Cost Price. $180 = 1.2 * CP. CP = $180 / 1.2 = $150.",
  "topic": "profit & loss",
  "difficulty": "Easy",
  "targetRole": ["Business Analyst"],
  "company": ["Reliance Retail"],
  "format": "MCQ",
  "timeRequired": 50,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "54",
  "question": "By selling a book for $270, a person incurs a loss of 10%. What was the cost price?",
  "correctAnswer": "$300",
  "explanation": "Selling price = 0.9 * Cost Price. $270 = 0.9 * CP. CP = $270 / 0.9 = $300.",
  "topic": "profit & loss",
  "difficulty": "Easy",
  "targetRole": ["Business Analyst"],
  "company": ["Flipkart"],
  "format": "Fill in the blanks",
  "timeRequired": 45,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "55",
  "question": "A fruit seller buys oranges at $5 per dozen and sells them at $0.50 each. What is his profit percentage?",
  "options": ["10%", "15%", "20%", "25%"],
  "correctAnswer": "20%",
  "explanation": "Cost per orange = $5 / 12. Selling price = $0.50. Profit per orange = $0.50 - $5/12 = $1/6. Profit % = (($1/6) / ($5/12)) * 100 = 20%.",
  "topic": "profit & loss",
  "difficulty": "Medium",
  "targetRole": ["Business Analyst"],
  "company": ["BigBasket"],
  "format": "MCQ",
  "timeRequired": 70,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "56",
  "question": "What percentage of 120 is 30?",
  "correctAnswer": "25%",
  "explanation": "(30 / 120) * 100 = 25%.",
  "topic": "percentage",
  "difficulty": "Easy",
  "targetRole": ["Data Analyst"],
  "company": ["Infosys"],
  "format": "Fill in the blanks",
  "timeRequired": 30,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "57",
  "question": "If 40% of a number is 60, what is the number?",
  "options": ["100", "120", "150", "180"],
  "correctAnswer": "150",
  "explanation": "0.4 * Number = 60. Number = 60 / 0.4 = 150.",
  "topic": "percentage",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["TCS"],
  "format": "MCQ",
  "timeRequired": 35,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "58",
  "question": "A salary increased from $400 to $500. What is the percentage increase?",
  "correctAnswer": "25%",
  "explanation": "Increase = $100. Percentage increase = ($100 / $400) * 100 = 25%.",
  "topic": "percentage",
  "difficulty": "Easy",
  "targetRole": ["HR Analyst"],
  "company": ["Accenture"],
  "format": "Fill in the blanks",
  "timeRequired": 40,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "59",
  "question": "The ratio of boys to girls in a class is 3:5. If there are 40 students in total, how many are girls?",
  "options": ["15", "20", "25", "30"],
  "correctAnswer": "25",
  "explanation": "Ratio 3:5, total parts 8. One part = 5. Number of girls (5 parts) = 5 * 5 = 25.",
  "topic": "ratio & proportion",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["NIIT"],
  "format": "MCQ",
  "timeRequired": 42,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "60",
  "question": "If the cost price of 5 articles is equal to the selling price of 4 articles, what is the profit percentage?",
  "correctAnswer": "25%",
  "explanation": "Let CP of 1 article be $x, SP of 1 article be $y. 5x = 4y => y = 5x/4. Profit % = ((y-x)/x) * 100 = ((x/4)/x) * 100 = 25%.",
  "topic": "profit & loss",
  "difficulty": "Medium",
  "targetRole": ["Business Analyst"],
  "company": ["Future Retail"],
  "format": "Fill in the blanks",
  "timeRequired": 68,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "61",
  "question": "A mixture contains milk and water in the ratio 7:3. If the mixture contains 14 liters of milk, how much water is there?",
  "options": ["4 liters", "6 liters", "8 liters", "10 liters"],
  "correctAnswer": "6 liters",
  "explanation": "Milk : Water = 7:3. If 7 parts milk = 14 liters, then 1 part = 2 liters. Water (3 parts) = 3 * 2 = 6 liters.",
  "topic": "ratio & proportion",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["Amul"],
  "format": "MCQ",
  "timeRequired": 48,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "62",
  "question": "A person saves 15% of their salary. If they save $450 per month, what is their monthly salary?",
  "correctAnswer": "$3000",
  "explanation": "0.15 * Salary = $450. Salary = $450 / 0.15 = $3000.",
  "topic": "percentage",
  "difficulty": "Easy",
  "targetRole": ["HR Analyst"],
  "company": ["HCL"],
  "format": "Fill in the blanks",
  "timeRequired": 38,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "63",
  "question": "The price of an item increased by 20% and then decreased by 25%. What is the overall percentage change in price?",
  "options": ["-5%", "0%", "-10%", "-15%"],
  "correctAnswer": "-10%",
  "explanation": "Let price be 100. Increased to 120. Decreased by 25% of 120 (which is 30) to 90. Overall change -10%.",
  "topic": "percentage",
  "difficulty": "Medium",
  "targetRole": ["Business Analyst"],
  "company": ["Aditya Birla Retail"],
  "format": "MCQ",
  "timeRequired": 72,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "64",
  "question": "If A:B = 2:3 and B:C = 4:5, then find A:C.",
  "correctAnswer": "8:15",
  "explanation": "Make B common. A:B = 8:12, B:C = 12:15. So, A:C = 8:15.",
  "topic": "ratio & proportion",
  "difficulty": "Medium",
  "targetRole": ["Analyst"],
  "company": ["Infosys"],
  "format": "Fill in the blanks",
  "timeRequired": 60,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "65",
  "question": "A shopkeeper sells two items for $99 each. On one he gains 10% and on the other he loses 10%. What is his overall profit or loss percentage?",
  "options": ["1% profit", "1% loss", "No profit no loss", "0.5% loss"],
  "correctAnswer": "1% loss",
  "explanation": "When SP is same and profit/loss % is same, overall loss % = (common %)^2 / 100 = (10)^2 / 100 = 1% loss.",
  "topic": "profit & loss",
  "difficulty": "Medium",
  "targetRole": ["Business Analyst"],
  "company": ["Future Retail"],
  "format": "MCQ",
  "timeRequired": 80,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "66",
  "question": "What single discount is equivalent to two successive discounts of 20% and 10%?",
  "correctAnswer": "28%",
  "explanation": "Let original price be 100. After 20% off = 80. After 10% off on 80 = 72. Single discount = 100 - 72 = 28%.",
  "topic": "percentage",
  "difficulty": "Medium",
  "targetRole": ["Marketing Analyst"],
  "company": ["Amazon"],
  "format": "Fill in the blanks",
  "timeRequired": 70,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "67",
  "question": "If the ratio of speeds of two trains is 5:3, what is the ratio of times taken by them to cover the same distance?",
  "options": ["5:3", "3:5", "25:9", "9:25"],
  "correctAnswer": "3:5",
  "explanation": "Time is inversely proportional to speed for the same distance. So, the ratio of times is the inverse of the ratio of speeds.",
  "topic": "ratio & proportion",
  "difficulty": "Medium",
  "targetRole": ["Analyst"],
  "company": ["Indian Railways"],
  "format": "MCQ",
  "timeRequired": 55,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "68",
  "question": "A dishonest dealer sells goods at cost price but uses a weight of 900g for a kg. What is his profit percentage?",
  "correctAnswer": "11.11%",
  "explanation": "He sells 900g as 1000g. Profit = 100g on 900g. Profit % = (100/900) * 100 = 11.11%.",
  "topic": "profit & loss",
  "difficulty": "Hard",
  "targetRole": ["Business Analyst"],
  "company": ["Local Business"],
  "format": "Fill in the blanks",
  "timeRequired": 90,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "69",
  "question": "A number is increased by x% and then decreased by x%. If the net change is 1%, find the value of x.",
  "options": ["5", "10", "100", "1"],
  "correctAnswer": "10",
  "explanation": "Net change % = - (x^2 / 100) = -1. So, x^2 = 100 => x = 10.",
  "topic": "percentage",
  "difficulty": "Hard",
  "targetRole": ["Analyst"],
  "company": ["Consulting Firms"],
  "format": "MCQ",
  "timeRequired": 85,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "70",
  "question": "Solve for x: log₂(x + 1) = 3",
  "correctAnswer": "x = 7",
  "explanation": "Converting to exponential form: x + 1 = 2³. So, x + 1 = 8, which gives x = 7.",
  "topic": "algebra",
  "difficulty": "Medium",
  "targetRole": ["Data Scientist", "Analyst"],
  "company": ["Google", "Microsoft"],
  "format": "Fill in the blanks",
  "timeRequired": 60,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "71",
  "question": "What is the probability of getting a total of 8 when three fair dice are rolled?",
  "options": ["21/216", "15/216", "18/216", "12/216"],
  "correctAnswer": "21/216",
  "explanation": "Favorable outcomes summing to 8: (1,1,6), (1,2,5), (1,3,4), (1,4,3), (1,5,2), (1,6,1), (2,1,5), (2,2,4), (2,3,3), (2,4,2), (2,5,1), (3,1,4), (3,2,3), (3,3,2), (3,4,1), (4,1,3), (4,2,2), (4,3,1), (5,1,2), (5,2,1), (6,1,1) - 21 outcomes. Total outcomes = 6³ = 216.",
  "topic": "probability",
  "difficulty": "Medium",
  "targetRole": ["Data Scientist", "Analyst"],
  "company": ["Google", "Microsoft"],
  "format": "MCQ",
  "timeRequired": 80,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "72",
  "question": "A can complete a task in x days and B can complete the same task in 2x days. If they work together, in how many days can they complete the task?",
  "correctAnswer": "2x/3 days",
  "explanation": "A's 1-day work = 1/x, B's 1-day work = 1/(2x). Combined work = 1/x + 1/(2x) = 3/(2x). Time = 2x/3 days.",
  "topic": "time-work",
  "difficulty": "Medium",
  "targetRole": ["Analyst", "Project Manager"],
  "company": ["Microsoft"],
  "format": "Fill in the blanks",
  "timeRequired": 70,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "73",
  "question": "If 30% of a number is equal to 45, what is 60% of the same number?",
  "options": ["75", "90", "105", "120"],
  "correctAnswer": "90",
  "explanation": "0.3 * Number = 45 => Number = 150. 60% of 150 = 0.6 * 150 = 90.",
  "topic": "percentage",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["Microsoft"],
  "format": "MCQ",
  "timeRequired": 40,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "74",
  "question": "The ratio of income to expenditure of a person is 5:3. If their savings are $4000, what is their income?",
  "correctAnswer": "$10000",
  "explanation": "Income : Expenditure = 5:3. Savings ratio = 5 - 3 = 2. If 2 parts = $4000, 1 part = $2000. Income (5 parts) = 5 * $2000 = $10000.",
  "topic": "ratio & proportion",
  "difficulty": "Medium",
  "targetRole": ["Analyst"],
  "company": ["Google"],
  "format": "Fill in the blanks",
  "timeRequired": 65,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "75",
  "question": "A product is sold at a profit of 15%. If the cost price was $200, what is the selling price?",
  "options": ["$220", "$230", "$240", "$250"],
  "correctAnswer": "$230",
  "explanation": "Profit = 15% of $200 = $30. Selling Price = Cost Price + Profit = $200 + $30 = $230.",
  "topic": "profit & loss",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["Microsoft"],
  "format": "MCQ",
  "timeRequired": 50,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "76",
  "question": "Solve for x: |2x - 3| = 5",
  "correctAnswer": "x = 4 or x = -1",
  "explanation": "Two cases: 2x - 3 = 5 => 2x = 8 => x = 4; or 2x - 3 = -5 => 2x = -2 => x = -1.",
  "topic": "algebra",
  "difficulty": "Medium",
  "targetRole": ["Data Scientist", "Analyst"],
  "company": ["Google"],
  "format": "Fill in the blanks",
  "timeRequired": 70,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "77",
  "question": "What is the probability of drawing two aces from a standard deck of 52 cards without replacement?",
  "options": ["1/221", "2/221", "3/221", "4/221"],
  "correctAnswer": "1/221",
  "explanation": "P(1st Ace) = 4/52. P(2nd Ace | 1st Ace) = 3/51. P(both Aces) = (4/52) * (3/51) = 12/2652 = 1/221.",
  "topic": "probability",
  "difficulty": "Medium",
  "targetRole": ["Data Scientist", "Analyst"],
  "company": ["Microsoft"],
  "format": "MCQ",
  "timeRequired": 75,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "78",
  "question": "If 12 machines can produce 1000 units in 8 hours, how many units can 18 machines produce in 6 hours?",
  "correctAnswer": "1125 units",
  "explanation": "Rate of 1 machine = 1000 / (12 * 8) units/hour. Rate of 18 machines = 18 * 1000 / 96. Units in 6 hours = (18000 / 96) * 6 = 1125.",
  "topic": "time-work",
  "difficulty": "Hard",
  "targetRole": ["Analyst", "Operations Analyst"],
  "company": ["Google"],
  "format": "Fill in the blanks",
  "timeRequired": 90,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "79",
  "question": "A store offers a 30% discount on a product. If the sale price is $350, what was the original price?",
  "options": ["$450", "$500", "$550", "$600"],
  "correctAnswer": "$500",
  "explanation": "Sale price = 0.7 * Original Price. $350 = 0.7 * OP. OP = $350 / 0.7 = $500.",
  "topic": "percentage",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["Microsoft"],
  "format": "MCQ",
  "timeRequired": 45,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "80",
  "question": "The salaries of A, B, and C are in the ratio 2:3:5. If C's salary is $3000, what is B's salary?",
  "correctAnswer": "$1800",
  "explanation": "Ratio 2:3:5. If 5 parts = $3000, 1 part = $600. B's salary (3 parts) = 3 * $600 = $1800.",
  "topic": "ratio & proportion",
  "difficulty": "Easy",
  "targetRole": ["Analyst", "HR Analyst"],
  "company": ["Google"],
  "format": "Fill in the blanks",
  "timeRequired": 40,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "81",
  "question": "A retailer buys an item for $150 and sells it for $180. What is the profit percentage?",
  "options": ["10%", "15%", "20%", "25%"],
  "correctAnswer": "20%",
  "explanation": "Profit = $180 - $150 = $30. Profit % = ($30 / $150) * 100 = 20%.",
  "topic": "profit & loss",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["Microsoft"],
  "format": "MCQ",
  "timeRequired": 55,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "82",
  "question": "Simplify: √(x⁶y⁴z²)",
  "correctAnswer": "|x³y²z|",
  "explanation": "√(x⁶) = |x³|, √(y⁴) = y², √(z²) = |z|. Result: |x³y²z|.",
  "topic": "algebra",
  "difficulty": "Medium",
  "targetRole": ["Data Scientist", "Analyst"],
  "company": ["Google"],
  "format": "Fill in the blanks",
  "timeRequired": 65,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "83",
  "question": "If two fair coins are tossed, what is the probability of getting at most one tail?",
  "options": ["1/4", "1/2", "3/4", "1"],
  "correctAnswer": "3/4",
  "explanation": "Outcomes: HH, HT, TH, TT. At most one tail: HH, HT, TH (3 outcomes). Probability = 3/4.",
  "topic": "probability",
  "difficulty": "Easy",
  "targetRole": ["Data Scientist", "Analyst"],
  "company": ["Microsoft"],
  "format": "MCQ",
  "timeRequired": 40,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "84",
  "question": "A tank can be filled by pipe A in 5 hours and by pipe B in 10 hours. How long will it take to fill the tank if both pipes are opened?",
  "correctAnswer": "10/3 hours",
  "explanation": "A's rate = 1/5 tank/hour, B's rate = 1/10 tank/hour. Combined rate = 1/5 + 1/10 = 3/10 tank/hour. Time = 10/3 hours.",
  "topic": "time-work",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["Google"],
  "format": "Fill in the blanks",
  "timeRequired": 50,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "85",
  "question": "What percentage is 75 out of 300?",
  "options": ["15%", "20%", "25%", "30%"],
  "correctAnswer": "25%",
  "explanation": "(75 / 300) * 100 = 25%.",
  "topic": "percentage",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["Microsoft"],
  "format": "MCQ",
  "timeRequired": 35,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "86",
  "question": "If the ratio of apples to oranges in a basket is 4:7 and there are 28 oranges, how many apples are there?",
  "correctAnswer": "16",
  "explanation": "Ratio 4:7. 7 parts oranges = 28 => 1 part = 4. Apples (4 parts) = 4 * 4 = 16.",
  "topic": "ratio & proportion",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["Google"],
  "format": "Fill in the blanks",
  "timeRequired": 42,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "87",
  "question": "A loss of $40 is incurred when an item is sold for $160. What was the cost price?",
  "options": ["$100", "$120", "$180", "$200"],
  "correctAnswer": "$200",
  "explanation": "Cost Price = Selling Price + Loss = $160 + $40 = $200.",
  "topic": "profit & loss",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["Microsoft"],
  "format": "MCQ",
  "timeRequired": 48,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "88",
  "question": "Solve the system: x + y = 5, x - y = 1. What is the value of y?",
  "correctAnswer": "y = 2",
  "explanation": "Adding equations: 2x = 6 => x = 3. Substituting in first: 3 + y = 5 => y = 2.",
  "topic": "algebra",
  "difficulty": "Easy",
  "targetRole": ["Data Scientist", "Analyst"],
  "company": ["Google"],
  "format": "Fill in the blanks",
  "timeRequired": 55,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "89",
  "question": "A bag contains 3 red, 4 blue, and 5 green balls. What is the probability of drawing a red ball?",
  "options": ["3/12", "4/12", "5/12", "1/4"],
  "correctAnswer": "3/12",
  "explanation": "Total balls = 3 + 4 + 5 = 12. Number of red balls = 3. Probability = 3/12.",
  "topic": "probability",
  "difficulty": "Easy",
  "targetRole": ["Data Scientist", "Analyst"],
  "company": ["Microsoft"],
  "format": "MCQ",
  "timeRequired": 35,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "90",
  "question": "If 5 men can do a work in 6 days, how many days will 3 men take?",
  "correctAnswer": "10 days",
  "explanation": "M1D1 = M2D2 => 5 * 6 = 3 * D2 => D2 = 30 / 3 = 10 days.",
  "topic": "time-work",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["Google"],
  "format": "Fill in the blanks",
  "timeRequired": 45,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "91",
  "question": "What is 35% of 200?",
  "options": ["50", "60", "70", "80"],
  "correctAnswer": "70",
  "explanation": "0.35 * 200 = 70.",
  "topic": "percentage",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["Microsoft"],
  "format": "MCQ",
  "timeRequired": 30,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "92",
  "question": "Divide $90 in the ratio 2:1. What is the larger share?",
  "correctAnswer": "$60",
  "explanation": "Ratio 2:1, total parts 3. One part = $30. Larger share (2 parts) = 2 * $30 = $60.",
  "topic": "ratio & proportion",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["Google"],
  "format": "Fill in the blanks",
  "timeRequired": 38,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "93",
  "question": "A chair bought for $50 is sold for $60. What is the profit percentage?",
  "options": ["10%", "15%", "20%", "25%"],
  "correctAnswer": "20%",
  "explanation": "Profit = $10. Profit % = ($10 / $50) * 100 = 20%.",
  "topic": "profit & loss",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["Microsoft"],
  "format": "MCQ",
  "timeRequired": 42,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "94",
  "question": "Solve for x: 4x - 7 = 9",
  "correctAnswer": "x = 4",
  "explanation": "4x = 16 => x = 4.",
  "topic": "algebra",
  "difficulty": "Easy",
  "targetRole": ["Data Scientist", "Analyst"],
  "company": ["Google"],
  "format": "Fill in the blanks",
  "timeRequired": 30,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "95",
  "question": "What is the probability of not getting a head in two coin tosses?",
  "options": ["1/4", "1/2", "3/4", "1"],
  "correctAnswer": "1/4",
  "explanation": "Outcomes: HH, HT, TH, TT. No head (TT) = 1 outcome. Probability = 1/4.",
  "topic": "probability",
  "difficulty": "Easy",
  "targetRole": ["Data Scientist", "Analyst"],
  "company": ["Microsoft"],
  "format": "MCQ",
  "timeRequired": 38,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "96",
  "question": "If A can do a job in 10 days and B in 20 days, how long together?",
  "correctAnswer": "20/3 days",
  "explanation": "A's rate = 1/10, B's rate = 1/20. Combined = 3/20. Time = 20/3.",
  "topic": "time-work",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["Google"],
  "format": "Fill in the blanks",
  "timeRequired": 40,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "97",
  "question": "12 is what percentage of 48?",
  "options": ["15%", "20%", "25%", "30%"],
  "correctAnswer": "25%",
  "explanation": "(12 / 48) * 100 = 25%.",
  "topic": "percentage",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["Microsoft"],
  "format": "MCQ",
  "timeRequired": 32,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "98",
  "question": "The ratio of two numbers is 5:8. If the first is 20, what is the second?",
  "correctAnswer": "32",
  "explanation": "5 parts = 20 => 1 part = 4. Second number (8 parts) = 8 * 4 = 32.",
  "topic": "ratio & proportion",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["Google"],
  "format": "Fill in the blanks",
  "timeRequired": 36,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
},
{
  "id": "99",
  "question": "A TV sold for $300 had a loss of 25%. What was the cost price?",
  "options": ["$375", "$400", "$425", "$450"],
  "correctAnswer": "$400",
  "explanation": "0.75 * CP = $300 => CP = $300 / 0.75 = $400.",
  "topic": "profit & loss",
  "difficulty": "Easy",
  "targetRole": ["Analyst"],
  "company": ["Microsoft"],
  "format": "MCQ",
  "timeRequired": 48,
  "isBookmarked": false,
  "attemptedAt": null,
  "isAttempted": false
}
  // Add more mock questions as needed
];

export const useAptitude = () => {
  const [formulas, setFormulas] = useState<Formula[]>(MOCK_FORMULAS);
  const [questions, setQuestions] = useState<AptitudeQuestion[]>(MOCK_QUESTIONS);
  const [topics, setTopics] = useState<Topic[]>(MOCK_TOPICS);
  const [filteredQuestions, setFilteredQuestions] = useState<AptitudeQuestion[]>(MOCK_QUESTIONS);
  const [selectedTopics, setSelectedTopics] = useState<string[]>([]);
  const [selectedDifficulty, setSelectedDifficulty] = useState<Difficulty | ''>('');
  const [selectedRoles, setSelectedRoles] = useState<string[]>([]);
  const [selectedCompanies, setSelectedCompanies] = useState<string[]>([]);
  const [selectedFormat, setSelectedFormat] = useState<Format | ''>('');
  const [loading, setLoading] = useState(false);

  useEffect(() => {
    // Filter questions based on selected criteria
    let filtered = [...questions];
    
    if (selectedTopics.length > 0) {
      filtered = filtered.filter(q => selectedTopics.includes(q.topic));
    }
    
    if (selectedDifficulty && selectedDifficulty !== 'Easy') {
      filtered = filtered.filter(q => q.difficulty === selectedDifficulty);
    }
    
    if (selectedRoles.length > 0) {
      filtered = filtered.filter(q => q.targetRole.some(role => selectedRoles.includes(role)));
    }
    
    if (selectedCompanies.length > 0) {
      filtered = filtered.filter(q => q.company.some(company => selectedCompanies.includes(company)));
    }
    
    if (selectedFormat && selectedFormat !== 'MCQ') {
      filtered = filtered.filter(q => q.format === selectedFormat);
    }
    
    setFilteredQuestions(filtered);
  }, [questions, selectedTopics, selectedDifficulty, selectedRoles, selectedCompanies, selectedFormat]);

  // Get formulas by topic
  const getFormulasByTopic = (topic: string) => {
    return formulas.filter(formula => formula.topic === topic);
  };

  // Toggle bookmark for a question
  const toggleBookmark = (questionId: string) => {
    setQuestions(prevQuestions => 
      prevQuestions.map(q => 
        q.id === questionId ? { ...q, isBookmarked: !q.isBookmarked } : q
      )
    );
  };

  // Update last attempted timestamp for a question
  const markQuestionAttempted = (questionId: string) => {
    setQuestions(prevQuestions => 
      prevQuestions.map(q => 
        q.id === questionId ? { ...q, lastAttempted: new Date() } : q
      )
    );
  };

  // Get bookmarked questions
  const getBookmarkedQuestions = () => {
    return questions.filter(q => q.isBookmarked);
  };

  // Get recently attempted questions
  const getRecentlyAttemptedQuestions = () => {
    return questions
      .filter(q => q.lastAttempted)
      .sort((a, b) => 
        new Date(b.lastAttempted!).getTime() - new Date(a.lastAttempted!).getTime()
      );
  };

  return {
    formulas,
    questions,
    filteredQuestions,
    topics,
    selectedTopics,
    setSelectedTopics,
    selectedDifficulty,
    setSelectedDifficulty,
    selectedRoles,
    setSelectedRoles,
    selectedCompanies,
    setSelectedCompanies,
    selectedFormat,
    setSelectedFormat,
    loading,
    getFormulasByTopic,
    toggleBookmark,
    markQuestionAttempted,
    getBookmarkedQuestions,
    getRecentlyAttemptedQuestions,
  };
};
